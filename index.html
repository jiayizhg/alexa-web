<head>
    <link rel="stylesheet" href="default.css" >
    <body>
      <!-- <a href = "#" onclick="showGridView()">back to grid</a>
      <p/>
      <div id = "image_container">
        <div id = "grid_view">
          <div class = "image_in_grid" onclick="showFullImage(1)">
            <img src = "img/01.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(2)">
            <img src = "img/02.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(3)">
            <img src = "img/03.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(4)">
            <img src = "img/04.png" />
          </div>
        </div>
      </div> -->

      <div id = "displayMovie">
        <p></p>
      </div>

      <script>
        function showVideoTitle(title) {
          document.getElementById('displayMovie').textContent = title;
          console.log(title);
        }
        function refresh() {
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://qa21abqz5d.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
          xhttp.addEventListener("readystatechange", processRequest, false);
          let videoCommand = "";

          function processRequest(e) {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
              var response = JSON.parse(xhttp.responseText);
              // var numberString = response.dogPicture;
              var workoutVideo = response.videoToDisplay;

              if (workoutVideo === "restart" && videoCommand === "restart") {
                videoCommand = "play";
              } else {
                videoCommand = workoutVideo.toLowerCase();
              }

              showVideoTitle(videoCommand);

              if (videoCommand.includes("kick boxing")) {
                playKickBoxingVid();
              } else if (videoCommand.includes("balance yoga")) {
                playKickBoxingVid();
              } else if (videoCommand.includes("undefined")) {
                playVid();
              }
              if (videoCommand === "pause" || videoCommand === "paws")
                pauseVid();
              if (videoCommand === "restart")
                restartVid();

              // if(numberString < 5 && numberString > 0) {
              //   showFullImage(numberString);
              // } else {
              //   showGridView();
              //}
              console.log(videoCommand);
            }
          }
          setTimeout(refresh, 1000);
        }

        refresh();

        function fastForwardVid() {
          var vid = document.getElementById("myVideo");
          vid.currentTime += 2;

        }

        function restartVid() {
          var vid = document.getElementById("myVideo");
          vid.currentTime = 0;

        }

        function playVid() {
          var vid = document.getElementById("myVideo");
          vid.play();

        }

        function pauseVid() {
          var vid = document.getElementById("myVideo");
          vid.pause();
        }

        function playYogaVid() {
          var vid = document.getElementById("myVideo");
          vid.setAttribute('src', 'https://reflect-mirror-videos.s3.amazonaws.com/07252019042806PM-Ginny-BalanceYoga.mp4');
          vid.play();
        }

        function playKickBoxingVid() {
          var vid = document.getElementById("myVideo");
          vid.setAttribute('src', 'https://reflect-mirror-videos.s3.amazonaws.com/07252019032507PM-Amber-Kickboxing.mp4');
          vid.play();
        }

      </script>

        <div class="player">

            <center>
              <button onclick="playYogaVid()" type="button">Play Yoga Video</button><br/>
              <button onclick="playKickBoxingVid()" type="button">Play Kick Boxing Video</button><br/>
              <button onclick="fastForwardVid()" type="button">Fast Forward Video</button>
              <button onclick="restartVid()" type="button">Restart Video</button>
              <button onclick="playVid()" type="button">Play Video</button>
              <button onclick="pauseVid()" type="button">Pause Video</button><br/>
              <video id="myVideo" width="600" height="400" >
                <source id="kick_boxing_video" src="https://reflect-mirror-videos.s3.amazonaws.com/07252019032507PM-Amber-Kickboxing.mp4" type="video/mp4" />
                <source id="yoga_video" src="https://reflect-mirror-videos.s3.amazonaws.com/07252019042806PM-Ginny-BalanceYoga.mp4" type="video/mp4" />
              </video>

            </center>

        </div>
      </body>
    </head>
