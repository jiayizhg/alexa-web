<head>
    <link rel="stylesheet" href="default.css" >
    <body>
      <!-- <a href = "#" onclick="showGridView()">back to grid</a>
      <p/>
      <div id = "image_container">
        <div id = "grid_view">
          <div class = "image_in_grid" onclick="showFullImage(1)">
            <img src = "img/01.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(2)">
            <img src = "img/02.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(3)">
            <img src = "img/03.png" />
          </div>
          <div class = "image_in_grid" onclick="showFullImage(4)">
            <img src = "img/04.png" />
          </div>
        </div>
      </div> -->

      <div id = "displayMovie">
        <p></p>
      </div>

      <script>
        function showVideoTitle(title) {
          document.getElementById('displayMovie').textContent = title;
        }
        function refresh() {
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://qa21abqz5d.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
          xhttp.addEventListener("readystatechange", processRequest, false);

          function processRequest(e) {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
              var response = JSON.parse(xhttp.responseText);
              // var numberString = response.dogPicture;
              var workoutVideo = response.videoToDisplay;

              showVideoTitle(workoutVideo);

              if (workoutVideo.includes("kick boxing")) {
                playKickBoxingVid();
              } else if (workoutVideo.includes("balance yoga")) {
                playYogaVid();
              } else if (workoutVideo.includes("flow workout")) {
                playVinyasaFlowiVid();
              } else if (workoutVideo.includes("undefined") || workoutVideo === "play") {
                playVid();
              }
              if (workoutVideo === "pause" || workoutVideo === "paws") {
                pauseVid();
              }
              if (workoutVideo === "restart") {
                restartVid();
                console.log("restart the damn video");
              }
            }
          }
          setTimeout(refresh, 1000);
        }

        refresh();

        function fastForwardVid() {
          var vid = document.getElementById("myVideo");
          vid.currentTime += 2;
        }

        function restartVid() {
          var vid = document.getElementById("myVideo");
          vid.currentTime = 0;
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://drb7dtwfah.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
        }

        function playVid() {
          var vid = document.getElementById("myVideo");
          vid.play();
        }

        function pauseVid() {
          var vid = document.getElementById("myVideo");
          vid.pause();
        }

        function playYogaVid() {
          var vid = document.getElementById("myVideo");
          vid.setAttribute('src', 'https://reflect-mirror-videos.s3.amazonaws.com/07252019042806PM-Ginny-BalanceYoga.mp4');
          vid.load();
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://drb7dtwfah.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
        }

        function playKickBoxingVid() {
          var vid = document.getElementById("myVideo");
          vid.setAttribute('src', 'https://reflect-mirror-videos.s3.amazonaws.com/07252019032507PM-Amber-Kickboxing.mp4');
          vid.load();
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://drb7dtwfah.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
        }

        function playVinyasaFlowiVid() {
          var vid = document.getElementById("myVideo");
          vid.setAttribute('src', 'https://reflect-mirror-videos.s3.amazonaws.com/07162019071348PM-Jenny-15MinVinyasaFlow.mp4');
          vid.load();
          var xhttp = new XMLHttpRequest();
          xhttp.open("GET", "https://drb7dtwfah.execute-api.us-east-1.amazonaws.com/prod", true);
          xhttp.send();
        }

      </script>

        <div class="player">

            <center>
              <button onclick="playYogaVid()" type="button">Play Yoga Video</button><br/>
              <button onclick="playKickBoxingVid()" type="button">Play Kick Boxing Video</button><br/>
              <button onclick="fastForwardVid()" type="button">Fast Forward Video</button>
              <button onclick="restartVid()" type="button">Restart Video</button>
              <button onclick="playVid()" type="button">Play Video</button>
              <button onclick="pauseVid()" type="button">Pause Video</button><br/>
              <video id="myVideo" width="600" height="400" >
              </video>

            </center>

        </div>
      </body>
    </head>
